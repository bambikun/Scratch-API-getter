<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Scratchãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±å–å¾—ãƒ„ãƒ¼ãƒ«</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    img { max-width: 200px; }
    .info { margin-top: 10px; }
  </style>
</head>
<body>

<h1>Scratchãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±å–å¾—</h1>
<input type="text" id="projectIdInput" placeholder="ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆIDã‚’å…¥åŠ›">
<button onclick="fetchProject()">å–å¾—</button>

<div id="result" class="info"></div>

<script>
function fetchProject() {
  const projectId = document.getElementById("projectIdInput").value;
  const url = `https://api.scratch.mit.edu/projects/${projectId}`;

  fetch(url)
    .then(res => res.json())
    .then(data => {
      const result = document.getElementById("result");
      const thumbnailUrl = `https://uploads.scratch.mit.edu/get_image/project/${projectId}_480x360.png`;

      result.innerHTML = `
        <h2>${data.title}</h2>
        <p>ä½œè€…: ${data.author.username}</p>
        <img src="${thumbnailUrl}" alt="ã‚µãƒ ãƒã‚¤ãƒ«"><br>
        <p>â¤ ${data.stats.loves}ã€€â­ ${data.stats.favorites}ã€€ğŸ‘ ${data.stats.views}</p>
        <a href="https://scratch.mit.edu/projects/${projectId}" target="_blank">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’è¦‹ã‚‹</a>
      `;
    })
    .catch(err => {
      document.getElementById("result").innerText = "æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚";
      console.error(err);
    });
}
</script>

</body>
</html>
